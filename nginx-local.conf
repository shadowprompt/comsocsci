# ComSocSci 本地测试配置
# 适用于本地开发环境

# 主站配置
server {
    listen 80;
    server_name comsocsci.com www.comsocsci.com localhost;
    root /Users/shadow/Dev/website/comsocsci;
    index index.html;

    # 静态资源缓存
    location ~* \.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }

    # 默认首页
    location / {
        try_files $uri $uri/ /index.html;
    }
}

# 课程二级域名
server {
    listen 80;
    server_name courses.comsocsci.com;
    root /Users/shadow/Dev/website/comsocsci/courses;
    index index.html;
    
    # 静态资源 - 直接指向主目录
    location ~* \.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        root /Users/shadow/Dev/website/comsocsci;
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    # 课程介绍页面
    location /intro {
        try_files $uri $uri/ /courses-intro.html;
    }
    
    # 幻灯片页面
    location /slides {
        try_files $uri $uri/ /courses-slides.html;
    }
    
    # 视频页面
    location /videos {
        try_files $uri $uri/ /courses-videos.html;
    }
    
    # 课程首页
    location / {
        try_files $uri $uri/ /index.html;
    }
}

# 讲师二级域名
server {
    listen 80;
    server_name lecturers.comsocsci.com;
    root /Users/shadow/Dev/website/comsocsci/lecturers;
    index index.html;
    
    # 静态资源 - 直接指向主目录
    location ~* \.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        root /Users/shadow/Dev/website/comsocsci;
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    # 讲师详情页面
    location /teacher-detail {
        try_files $uri $uri/ /teacher-detail.html;
    }
    
    # 讲师列表页面
    location /teachers {
        try_files $uri $uri/ /teachers.html;
    }
    
    # 讲师主页
    location /main {
        try_files $uri $uri/ /lecturers-main.html;
    }
    
    location / {
        try_files $uri $uri/ /index.html;
    }
}

# 教材二级域名
server {
    listen 80;
    server_name textbooks.comsocsci.com;
    root /Users/shadow/Dev/website/comsocsci/textbooks;
    index index.html;
    
    # 静态资源 - 直接指向主目录
    location ~* \.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        root /Users/shadow/Dev/website/comsocsci;
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    location / {
        try_files $uri $uri/ /index.html;
    }
}

# 培训二级域名
server {
    listen 80;
    server_name trainings.comsocsci.com;
    root /Users/shadow/Dev/website/comsocsci/trainings;
    index index.html;
    
    # 静态资源 - 直接指向主目录
    location ~* \.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        root /Users/shadow/Dev/website/comsocsci;
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    location / {
        try_files $uri $uri/ /index.html;
    }
}

# 案例二级域名
server {
    listen 80;
    server_name cases.comsocsci.com;
    root /Users/shadow/Dev/website/comsocsci/cases;
    index index.html;
    
    # 静态资源 - 直接指向主目录
    location ~* \.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$ {
        root /Users/shadow/Dev/website/comsocsci;
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
    
    location / {
        try_files $uri $uri/ /index.html;
    }
} 